<html>

<head>
    <title>
		Park-Ease! - Car Parking Solutions
    </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="register.css">

    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id"
        content="279647308222-9kftfme5f74mov5u87fcdgl07jahp8o3.apps.googleusercontent.com">

</head>

<body>
    <div id="login-box">
        <div class="left">
            <center>
                <h1><b>
                        <font style="color:white">SIGN UP!</font>
                    </b></h1>
                <form action="./otp.jsp" method="post">
                    <fieldset>
                        <legend align="left"><b>
                                <font style="color:rgb(241,197,14)">PERSONAL INFORMATION:</font>
                            </b></legend><br>
                        <input type="text" name="firstName" placeholder="First Name" id="firstName" required />
                        <input type="text" name="lastName" id="lastName" placeholder="Last Name" />
                        <input type="text" name="address" placeholder="Address" required />
                        <input type="text" name="regno" placeholder="Car Registration Number" required />
                    </fieldset><br>
                    <fieldset>
                        <legend align="left"><b>
                                <font style="color:rgb(241,197,14)">CONTACT:</font>
                            </b></legend><br>
                        <input type="text" name="phoneNo" placeholder="Phone Number" required />
                        <input type="email" name="email" placeholder="E-mail" id="email" required />
                    </fieldset><br>
                    <fieldset>
                        <legend align="left"><b>
                                <font style="color:rgb(241,197,14)">LOGIN INFORMATION:</font>
                            </b></legend><br>
                        <input type="text" name="username" placeholder="Username" required />
                        <input type="password" name="password" placeholder="Password" required />
                        <input type="password" name="confirm_password" placeholder="Confirm password" required />
                    </fieldset><br>
                    <input type="submit" name="signup_submit" value="SIGN ME UP!" />
                </form>
            </center>
        </div>
        <div class="right">
            <span class="loginwith" style="color:white;font-family:'Roboto', sans-serif;font-size: 35px;">Sign up with
                Social Network:</span>
            <div style="position:relative; top:7%;" align="center">
                <div class="g-signin2" data-onsuccess="onSignIn"></div>

                <script>
                    function onSignIn(googleUser) {
                        document.getElementById("email").value = "";
                        document.getElementById("firstName").value = "";
                        document.getElementById("lastName").value = "";

                        var profile = googleUser.getBasicProfile();

                        document.getElementById("email").value = profile.getEmail();

                        var name = profile.getName().split(" ");
                        document.getElementById("firstName").value = capitalize(name[0]);

                        if (name[1] != null) {
                            for (let i = 1; name[i] != null; i++)
                                lastName = name[i] + " ";
                            lastName = capitalize(lastName);
                            document.getElementById("lastName").value = lastName;
                        }


                        var auth2 = gapi.auth2.getAuthInstance();
                        auth2.signOut().then(function () {
                            console.log('User signed out.');
                        });
                    }

                    function capitalize(string) {
                        const lowerCase = string.toLowerCase();
                        return string.charAt(0).toUpperCase() + lowerCase.slice(1);
                    }
                </script>

            </div>
        </div>
        <div class="or">OR</div>
    </div>
</body>

</html>